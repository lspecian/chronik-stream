# Dockerfile for test runner
FROM python:3.11-slim

# Install test dependencies
RUN pip install --no-cache-dir \
    kafka-python==2.0.2 \
    confluent-kafka==2.3.0 \
    pytest==7.4.3 \
    pytest-timeout==2.2.0

# Copy test files
WORKDIR /tests
COPY test_*.py ./

# Run tests
CMD ["python", "-m", "pytest", "-v"]